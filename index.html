<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Glyphtrix - Image and Video to ASCII Art Locally</title>
  <meta name="description" content="Convert images and videos into ASCII art. Customize output and export as image, text or animated PNG sequence.">
  <meta name="keywords" content="ascii art, text art, image to ascii, video to ascii, character art, terminal art, glyph, posterize, free, in-browser">
  <meta name="robots" content="index,follow">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <meta property="og:title" content="Glyphtrix â€” Image and Video to ASCII Art">
  <meta property="og:description" content="Glyphtrix is an open source web tool that turns images and videos into ASCII art locally within your browser.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_US">
  <meta property="og:image" content="https://glyphtrix.art/assets/social_preview.jpg">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebApplication","name":"Glyphtrix","applicationCategory":"MultimediaApplication","operatingSystem":"Web","description":"Convert images and videos to ASCII art locally in your browser. Customize output and export as image, text or animated PNG sequence.","browserRequirements":"Requires JavaScript. Works in modern browsers.","featureList":"Image/video to ASCII, presets, custom fonts, density/scale controls, color schemes, preview, export PNG/text/sequence","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"publisher":{"@type":"Organization","name":"Glyphtrix"}}</script>
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Mobile preview panel with toggle -->
  <div class="mobile-preview-panel" id="mobilePreviewPanel">
    <div class="mobile-preview-header">
      <div class="mobile-preview-toggle">
        <span class="mobile-toggle-option active" id="mobileInputToggle">Input</span>
        <span class="mobile-toggle-option" id="mobileOutputToggle">Output</span>
      </div>
      <span id="mobileLoadingSpinner" style="display: none;"></span>
    </div>
    <div class="mobile-preview-content" id="mobilePreviewContent">
      <!-- Content will be dynamically inserted here -->
    </div>
  </div>

  <!-- Sticky spacer for mobile preview panel -->
  <div class="sticky-spacer" id="mobilePreviewSpacer"></div>

  <div class="container" id="mainContainer">
    <div class="input-column" id="inputColumn">
      <div class="column-header">
        <h2>Input</h2>
      </div>
      <div class="input-area">
        <input type="file" id="imageUpload" accept="image/* video/*">
        <div class="upload-zone" id="uploadZone">
          <i class="ri-upload-2-fill" id="uploadIcon"></i>
          <div class="upload-spinner" id="uploadSpinner"></div>
          <span id="uploadText">
            Upload an image or video
            <div class="example-buttons-container" id="exampleButtonsContainer">
              <button class="btn-base btn-action" onclick="document.getElementById('imageUpload').click()">
                <i class="ri-upload-2-fill"></i> Select file
              </button>
              <div style="display: flex; gap: 10px; width: 100%;">
                <button class="btn-base btn-action" onclick="loadExampleImage()">
                  <i class="ri-image-line"></i> Load Example Image
                </button>
                <button class="btn-base btn-action" onclick="loadExampleVideo()">
                  <i class="ri-video-line"></i> Load Example Video
                </button>
              </div>
            </div>
          </span>
        </div>
        <canvas id="inputCanvas" class="imageCanvas"></canvas>
        <video id="inputVideo" class="imageCanvas" playsinline loop muted controls></video>
      </div>
    </div>

    <div class="output-column" id="outputColumn">
      <div class="column-header">
        <h2>Output</h2>
        <span id="loadingSpinner" style="display: none;"></span>
        <div id="sequenceLoadingMessage" style="display: none;"></div>
      </div>
      <canvas id="outputCanvas"></canvas>
      <div id="sequenceLoadingOverlay" style="display: none;">
        <div id="sequenceLoadingSpinner"></div>
        <p id="sequenceLoadingOverlayText">Rendering PNG Sequence...</p>
        <button id="cancelSequenceButton">Cancel Rendering</button>
      </div>
      <a id="downloadLink" style="display: none;" download="Glyphtrix_image.png">Download Image</a>
    </div>
  </div>

  <div class="mobile-panel" id="mobileUploadPanelPlaceholder"></div>
  <div class="mobile-panel" id="mobileSettingsPanel"></div>
  <div class="mobile-panel" id="mobileDownloadPanelPlaceholder"></div>

  <!-- Info Modal -->
  <div id="infoModal" class="info-modal" style="display: none;">
    <div class="info-modal-content">
      <div class="info-modal-header">
        <h2>About Glyphtrix</h2>
        <button class="info-modal-close" onclick="closeInfoModal()">&times;</button>
      </div>
      <div class="info-modal-body">
        <p><strong>Glyphtrix</strong> is a tool that transforms images and videos into ASCII art locally in your browser.</p>
        
        <h3>How to Use</h3>
        <ol>
          <li>Upload an image or video</li>
          <li>Adjust the settings to customize the output</li>
          <li>Preview and download your creation</li>
        </ol>

        <h3>Tips</h3>
        <ul>
          <li>If output looks blurry, increase <u>Scale Factor</u> value</li>
          <li>Increasing <u>Density</u> value makes characters bigger</li>
          <li>Pay attention to <u>Resolution</u>, larger values will take longer to output</li>
        </ul>
        
        <h3>Features</h3>
        <ul>
          <li>Example files and presets to get started</li>
          <li>Image & video support</li>
          <li>Extensive customization, full Unicode support</li>
          <li>Real-time processing & preview</li>
          <li>Export as image, text or animated PNG sequence</li>
        </ul>
           
        <h3>Privacy & Processing</h3>
        <ul>
          <li>No cloud processing, no tracking</li>
          <li>Everything happens locally in your browser</li>
        </ul>
        
        <div class="info-modal-footer">
          <button class="btn-base btn-action" onclick="openGitHub()">
            <i class="ri-github-line"></i> View source code on GitHub
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- FPS Selection Modal -->
  <div id="fpsModal" class="info-modal" style="display: none;">
    <div class="info-modal-content">
      <div class="info-modal-header">
        <h2>Choose Sequence FPS</h2>
        <button class="info-modal-close" onclick="closeFpsModal()">&times;</button>
      </div>
      <div class="info-modal-body">
        <div class="fps-options-grid" id="fpsOptionsGrid">
        </div>
        <div class="video-metadata" id="videoMetadata"></div>
      </div>
    </div>
  </div>

  <div class="settings-panel-container" id="desktopSettingsPanel">
    <div class="settings-panel-section-content upload-panel-content" id="uploadPanelContent">
      <div class="glyphtrix-logo" id="glyphtrixLogo">GLYPHTRIX</div>
      <h2 id="uploadPanelTitle" class="initially-hidden">Upload</h2>
      <div class="condensed-upload-zone" id="condensedUploadZone" style="display: none;">
        <label for="condensedImageUpload">
            <div class="filename-container">
                <span id="condensedFilename"><i class="ri-check-line"></i> Select Image</span>
                <button class="btn-base btn-action change-image-button" onclick="document.getElementById('imageUpload').click()"><i class="ri-upload-2-fill"></i> New Upload</button>
            </div>
            <input type="file" id="condensedImageUpload" accept="image/* video/*">
        </label>
      </div>
    </div>
    <div class="settings-panel-section-content settings-title-section" id="settingsTitleSection">
        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
        <h2>Settings for</h2>
            <div style="display: flex; gap: 8px;">
                <button class="btn-base" id="undoButton" disabled style="padding: 5px 8px; font-size: 1em; height: 28px; flex-shrink: 0; margin: 0;">
                    <i class="ri-arrow-go-back-line"></i>
                </button>
                <button class="btn-base" id="redoButton" disabled style="padding: 5px 8px; font-size: 1em; height: 28px; flex-shrink: 0; margin: 0;">
                    <i class="ri-arrow-go-forward-line"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="settings-panel-section-content settings-image-content" id="imageSettingsContent">
      <h2>Image</h2>
      <div class="image-settings-layout">
            <div class="settings-column">
                <div class="checkbox-container control-group" id="previewChangesContainer">
                    <input type="checkbox" id="previewChangesToggle">
                    <label for="previewChangesToggle">Preview Changes</label>
                </div>
                <div class="checkbox-container control-group" id="invertColorsContainer">
                    <input type="checkbox" id="invertColorsToggle">
                    <label for="invertColorsToggle">Invert</label>
                </div>
                <div class="checkbox-container control-group" id="backgroundRemovalContainer">
                    <input type="checkbox" id="backgroundRemovalToggle">
                    <label for="backgroundRemovalToggle">Remove Chroma</label>
                </div>
                <div class="control-container control-group">
                    <span id="resetToDefaultText" style="cursor: pointer; text-decoration: underline; font-size: 0.9em; transition: color 0.1s;" onmouseover="this.style.color='var(--error-text)'" onmouseout="this.style.color=''" >Reset to Default</span>
                </div>
            </div>
            <div class="settings-column">
                <div class="slider-container control-group">
                    <label for="levelsSlider">Grayscale Values <span id="levelsValueDisplay">4</span></label>
                    <input type="range" id="levelsSlider" min="2" max="16" value="4">
                </div>
                <div class="slider-container control-group">
                    <label for="brightnessSlider">Brightness <span id="brightnessValueDisplay">0</span></label>
                    <input type="range" id="brightnessSlider" min="-100" max="100" value="0">
                </div>
                <div class="slider-container control-group" id="contrastSliderContainer">
                    <label for="contrastSlider">Contrast <span id="contrastValueDisplay">0</span></label>
                    <input type="range" id="contrastSlider" min="-100" max="100" value="0">
                </div>
            </div>
            <div class="settings-column">
                <div class="slider-container control-group">
                    <label for="highlightInputSlider">Highlight <span id="highlightInputValueDisplay">255</span></label>
                    <input type="range" id="highlightInputSlider" min="0" max="255" value="255">
                </div>
                <div class="slider-container control-group">
                    <label for="midtoneGammaSlider">Midtone <span id="midtoneGammaValueDisplay">1.0</span></label>
                    <input type="range" id="midtoneGammaSlider" min="0.1" max="2" value="1" step="0.1">
                </div>
                 <div class="slider-container control-group">
                    <label for="shadowInputSlider">Shadow <span id="shadowInputValueDisplay">0</span></label>
                    <input type="range" id="shadowInputSlider" min="0" max="255" value="0">
                </div>
            </div>
        </div>
    </div>
    <div class="settings-panel-section-content settings-font-content" id="fontSettingsContent">
      <h2 style="display: flex; align-items: center; gap: 10px;">Glyph
        <i class="ri-dice-line" id="glyphRandomizeButton" style="cursor: pointer; opacity: 0.8;"></i>
      </h2>
      <div class="font-settings-layout">
            <div class="settings-column">
                <div class="control-container control-group" style="margin-bottom: 0px;">
                    <label for="characterSetSelect">Character Set</label>
                    <div class="select-group">
                        <button class="btn-base" id="prevCharSetButton"><</button>
                        <select id="characterSetSelect">
                            <option value="binary">1. Binary (0,1)</option>
                            <option value="numbers">2. Numbers (0-9)</option>
                            <option value="latin_basic">3. Latin (Basic)</option>
                            <option value="latin">4. Latin (Extended)</option>
                            <option value="cyrillic">5. Cyrillic</option>
                            <option value="devanagari">6. Devanagari</option>
                            <option value="thai">7. Thai</option>
                            <option value="japanese">8. Japanese</option>
                            <option value="korean">9. Korean</option>
                            <option value="chinese">10. Chinese</option>
                            <option value="arabic">11. Arabic</option>
                            <option value="preset1">12. ABC</option>
                            <option value="preset2">13. A,B,C</option>
                            <option value="preset3">14. ⦁</option>
                            <option value="preset4">15. ●</option>
                            <option value="preset5">16. ⬤</option>
                            <option value="preset6">17. 〇</option>
                            <option value="preset7">18. ■</option>
                            <option value="preset8">19. █</option>
                            <option value="preset9">20. ▃</option>
                            <option value="preset10">21. ⯁</option>
                            <option value="preset11">22. ✖</option>
                            <option value="preset12">23. ✚</option>
                            <option value="preset13">24. ╋</option>
                            <option value="preset14">25. ⧸,⧹</option>
                            <option value="custom">26. Custom</option>
                        </select>
                        <button class="btn-base" id="nextCharSetButton">></button>
                    </div>
                </div>
                 <div class="control-container control-group" id="customCharsContainer" style="display: none;">
                    <div style="display: flex; align-items: center; gap: 2px;">
                        <input type="text" id="customCharsInput" placeholder="Chars or words, comma/dot separated" style="flex: 1;">
                        <button class="btn-base" id="customCharsHelpButton" style="font-size: 0.8em; border-radius: 3px; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;">?</button>
                    </div>
                </div>
                <div class="control-container control-group">
                    <label for="fontSelect">Font Family</label>
                    <div class="select-group">
                        <button class="btn-base" id="prevFontButton"><</button>
                        <select id="fontSelect"></select>
                        <button class="btn-base" id="nextFontButton">></button>
                    </div>
                </div>
            </div>
            <div class="settings-column">
                <div class="control-container control-group"style="margin-bottom: 0px;">
                    <label for="colorSchemeSelect" style="display: flex; align-items: center; justify-content: space-between; width: 100%;">
                        <span>Color Scheme</span>
                        <i class="ri-dice-line" id="customColorsRandomizeButton" style="cursor: pointer; opacity: 0.8; font-size: 1.3em;"></i>
                    </label>
                    <div class="select-group">
                        <button class="btn-base" id="prevColorSchemeButton"><</button>
                        <select id="colorSchemeSelect">
                            <option value="color1">Color 1</option>
                            <option value="color2">Color 2</option>
                            <option value="color3">Color 3</option>
                            <option value="color4">Color 4</option>
                            <option value="color5">Color 5</option>
                            <option value="custom">Color Custom</option>
                        </select>
                        <button class="btn-base" id="nextColorSchemeButton">></button>
                    </div>
                </div>

                <div class="control-container control-group" id="customColorsContainer">
                    <div style="display: flex; align-items: center; margin-top: 5px;">
                        <input type="color" id="customTextColor" value="#00FF00" style="width: 40px; height: 28px; padding: 0; border: 1px solid var(--border-primary); background: none; margin-right: 8px;">
                        <input type="color" id="customBackgroundColor" value="#000000" style="width: 40px; height: 28px; padding: 0; border: 1px solid var(--border-primary); border-right: none; background: none;">
                        <button class="btn-base ri-eye-line" id="transparentBgToggle" style="height: 28px; padding: 0 5px; font-size: 0.8em; opacity: 0.6; min-height: auto;"></button>
                    </div>
                </div>
                <div class="slider-container control-group">
                    <label for="charSpacingSlider" style="display: flex; align-items: center; justify-content: space-between; width: 100%;">
                        <span style="display: flex; align-items: center; gap: 8px;">
                            <i class="ri-shuffle-line" id="randomSpacingToggle" style="cursor: pointer; opacity: 1; font-size: 1.1em;"></i>
                            Spacing
                        </span>
                        <span id="charSpacingValueDisplay">0</span>
                    </label>
                    <input type="range" id="charSpacingSlider" min="-50" max="50" value="0" step="1">
                </div>
            </div>
        </div>
    </div>
    <div class="settings-panel-section-content settings-output-content" id="outputSettingsContent">
      <h2>Output</h2>
      <div class="output-settings-layout">
            <div class="settings-column">
                 <div class="control-container control-group">
                    <label for="densityInput">Density</label>
                    <div class="input-group">
                        <button class="btn-base" id="densityDecrement"><</button>
                        <input type="number" id="densityInput" min="1" max="75" value="5">
                        <button class="btn-base" id="densityIncrement">></button>
                    </div>
                </div>
                <div class="control-container control-group">
                    <label>Grid Size:<br/><span id="gridSizeDisplay">-</span></label>
                </div>
            </div>
            <div class="settings-column">
                <div class="control-container control-group">
                    <label for="scaleFactorInput">Scale Factor</label>
                    <div class="input-group">
                        <button class="btn-base" id="scaleFactorDecrement"><</button>
                        <input type="number" id="scaleFactorInput" min="0.5" max="7" value="1" step="0.5">
                        <button class="btn-base" id="scaleFactorIncrement">></button>
                    </div>
                </div>
                <div class="control-container control-group">
                    <label>Resolution:<br/><span id="outputResolutionDisplay">-</span></label>
                </div>
            </div>
        </div>
    </div>
    <div class="settings-panel-section-content download-panel-content" id="downloadPanelContent">
      <h2>Export</h2>
      <div class="download-buttons-grid">
        <button class="btn-base btn-action download-button" onclick="openNewTab()" id="openNewTabButton">
            <i class="ri-external-link-line"></i> Open Image
        </button>
         <button class="btn-base btn-action download-button" onclick="downloadPng()" id="downloadPngButton">
            <i class="ri-download-2-line"></i> Download Image
        </button>
        <button class="btn-base btn-action download-button" onclick="downloadText()" id="downloadTextButton">
            <i class="ri-download-2-line"></i> Download Text
        </button>
        <button class="btn-base btn-action download-button" onclick="openFpsModal()" id="downloadPngSequenceButton" style="display: none;">
            <i class="ri-download-2-line"></i> Download Sequence
        </button>
        <button class="btn-base btn-action download-button" onclick="openInfoModal()" id="openInfoButton">
            <i class="ri-information-line"></i> About Glyphtrix
        </button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
